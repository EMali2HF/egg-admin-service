import mockjs from 'mockjs';
import { parse } from 'url';

export default {
  list(req, res, u) {
    let url = u;
    if (!url || Object.prototype.toString.call(url) !== '[object String]') {
      url = req.url; // eslint-disable-line
    }
    const params = parse(url, true).query;
    const pageSize = params.pageSize * 1 || 10;
    const result = mockjs.mock({
      code: '0',
      msg: 'OK',
      result: {
        [`list|${pageSize}`]: [
          {
            'id|1-1000': 95,
            name: '@ctitle',
            url: '',
            uri: 'auth.module.system',
            iconfont: '',
            describe: '@word',
            sort: 1,
            show: 0,
            parent_id: 298,
          },
        ],
        currentPage: parseInt(params.currentPage, 10) || 1,
        pages: pageSize,
        total: 100,
      },
    });

    if (res && res.json) {
      res.json(result);
    } else {
      return result;
    }
  },
  details: mockjs.mock({
    code: '0',
    msg: 'ok',
    result: {
      'id|1-1000': 95,
      name: '@ctitle',
      url: '',
      uri: 'auth.module.system',
      iconfont: '',
      describe: '@word',
      sort: 1,
      show: 0,
      parent_id: 298,
    },
  }),
  system: mockjs.mock({
    code: '0',
    msg: 'OK',
    result: [
      {
        id: 1,
        name: '权限管理',
        url: '',
        uri: 'auth',
        iconfont: 'fa fa-universal-access ',
        describe: '',
        sort: 0,
        show: 1,
        parent_id: 0,
        create_date: '2017-10-16T03:59:26.000Z',
        update_date: '2017-10-16T03:59:26.000Z',
        children: [
          {
            id: 300,
            name: '系统用户管理',
            url: '/auth/users',
            uri: 'auth.user',
            iconfont: '',
            describe: '',
            sort: 0,
            show: 1,
            parent_id: 1,
            create_date: '2017-08-22T11:23:37.000Z',
            update_date: '2017-08-22T11:23:37.000Z',
            children: [
              {
                id: 317,
                name: '用户列表',
                url: '',
                uri: 'auth.user.index',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:55:33.000Z',
                update_date: '2017-09-11T06:55:33.000Z',
                children: [],
              },
              {
                id: 318,
                name: '新建用户',
                url: '',
                uri: 'auth.user.create',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:55:44.000Z',
                update_date: '2017-09-11T06:55:44.000Z',
                children: [],
              },
              {
                id: 319,
                name: '删除用户',
                url: '',
                uri: 'auth.user.destroy',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:55:54.000Z',
                update_date: '2017-09-11T06:55:54.000Z',
                children: [],
              },
              {
                id: 320,
                name: '用户详情',
                url: '',
                uri: 'auth.user.edit',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:56:05.000Z',
                update_date: '2017-09-11T06:56:05.000Z',
                children: [],
              },
              {
                id: 321,
                name: '修改用户详情',
                url: '',
                uri: 'auth.user.update',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:56:19.000Z',
                update_date: '2017-09-11T06:56:19.000Z',
                children: [],
              },
              {
                id: 322,
                name: '重置密码',
                url: '',
                uri: 'auth.user.setPassword',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 300,
                create_date: '2017-09-11T06:56:31.000Z',
                update_date: '2017-09-11T06:56:31.000Z',
                children: [],
              },
            ],
          },
          {
            id: 301,
            name: '用户组管理',
            url: '/auth/groups',
            uri: 'auth.group',
            iconfont: '',
            describe: '角色管理',
            sort: 1,
            show: 1,
            parent_id: 1,
            create_date: '2017-08-22T08:44:38.000Z',
            update_date: '2017-08-22T08:44:38.000Z',
            children: [
              {
                id: 304,
                name: '用户组管理：列表查询',
                url: '',
                uri: 'auth.group.index',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-22T08:02:48.000Z',
                update_date: '2017-08-22T08:02:48.000Z',
                children: [],
              },
              {
                id: 305,
                name: '用户组管理：添加',
                url: '',
                uri: 'auth.group.create',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-22T08:07:10.000Z',
                update_date: '2017-08-22T08:07:10.000Z',
                children: [],
              },
              {
                id: 306,
                name: '用户组管理：删除',
                url: '',
                uri: 'auth.group.destroy',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-22T08:07:13.000Z',
                update_date: '2017-08-22T08:07:13.000Z',
                children: [],
              },
              {
                id: 307,
                name: '用户组管理：编辑前查询',
                url: '',
                uri: 'auth.group.edit',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-22T08:08:19.000Z',
                update_date: '2017-08-22T08:08:19.000Z',
                children: [],
              },
              {
                id: 308,
                name: '用户组管理：编辑',
                url: '',
                uri: 'auth.group.update',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-22T11:29:27.000Z',
                update_date: '2017-08-22T11:29:27.000Z',
                children: [],
              },
              {
                id: 311,
                name: '用户组管理：查看用户组成员',
                url: '',
                uri: 'auth.group.getUser',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-23T07:47:17.000Z',
                update_date: '2017-08-23T07:47:17.000Z',
                children: [],
              },
              {
                id: 312,
                name: '用户组管理：修改用户组成员',
                url: '',
                uri: 'auth.group.setUser',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-23T07:47:37.000Z',
                update_date: '2017-08-23T07:47:37.000Z',
                children: [],
              },
              {
                id: 313,
                name: '用户组管理：修改模块权限',
                url: '',
                uri: 'auth.group.setModule',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-23T07:48:09.000Z',
                update_date: '2017-08-23T07:48:09.000Z',
                children: [],
              },
              {
                id: 314,
                name: '用户组管理：查看模块权限',
                url: '',
                uri: 'auth.group.getModule',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 301,
                create_date: '2017-08-23T07:48:26.000Z',
                update_date: '2017-08-23T07:48:26.000Z',
                children: [],
              },
            ],
          },
          {
            id: 298,
            name: '功能模块管理',
            url: '/auth/modules',
            uri: 'auth.module',
            iconfont: '',
            describe: '菜单管理',
            sort: 10,
            show: 1,
            parent_id: 1,
            create_date: '2017-08-22T08:44:12.000Z',
            update_date: '2017-08-22T08:44:12.000Z',
            children: [
              {
                id: 324,
                name: '模块列表',
                url: '',
                uri: 'auth.module.index',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-09-13T11:53:00.000Z',
                update_date: '2017-09-13T11:53:00.000Z',
                children: [],
              },
              {
                id: 325,
                name: '添加模块',
                url: '',
                uri: 'auth.module.create',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-09-13T11:53:09.000Z',
                update_date: '2017-09-13T11:53:09.000Z',
                children: [],
              },
              {
                id: 326,
                name: '删除模块',
                url: '',
                uri: 'auth.module.destroy',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-09-13T11:53:20.000Z',
                update_date: '2017-09-13T11:53:20.000Z',
                children: [],
              },
              {
                id: 327,
                name: '模块详情',
                url: '',
                uri: 'auth.module.edit',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-09-13T11:53:30.000Z',
                update_date: '2017-09-13T11:53:30.000Z',
                children: [],
              },
              {
                id: 328,
                name: '修改模块详情',
                url: '',
                uri: 'auth.module.update',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-09-13T11:53:40.000Z',
                update_date: '2017-09-13T11:53:40.000Z',
                children: [],
              },
              {
                id: 357,
                name: '系统级模块列表',
                url: '',
                uri: 'auth.module.system',
                iconfont: '',
                describe: '',
                sort: 1,
                show: 0,
                parent_id: 298,
                create_date: '2017-10-24T08:42:06.000Z',
                update_date: '2017-10-24T08:42:06.000Z',
                children: [],
              },
            ],
          },
        ],
      },
    ],
  }),
};
